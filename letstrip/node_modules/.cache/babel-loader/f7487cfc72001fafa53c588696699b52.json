{"ast":null,"code":"import axios from 'axios';\nconst headers = {\n  \"Content-Type\": \"application/json\"\n};\nconst url = \"http://localhost:4000\";\nexport default {\n  signup: async values => {\n    try {\n      const userData = await axios.post(`${url}/NewUser`, values, {\n        headers: headers\n      });\n      localStorage.setItem(\"token\", userData.data);\n      window.location = '/dashboard';\n      console.log('user created : ', userData);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  login: async values => {\n    try {\n      const userData = await axios.post(`${url}/Login`, values, {\n        headers: headers\n      });\n      localStorage.setItem(\"token\", userData.data);\n      window.location = '/dashboard';\n      console.log('log :', userData);\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  isAuth: () => {\n    return localStorage.getItem(\"token\") !== null;\n  },\n  logout: () => {\n    localStorage.clear();\n    window.location = '/';\n  }\n};","map":{"version":3,"sources":["/Users/valentinwachedecorbie/Documents/Projets/LetsTripFinal/letstrip/src/auth.js"],"names":["axios","headers","url","signup","values","userData","post","localStorage","setItem","data","window","location","console","log","error","login","isAuth","getItem","logout","clear"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG;AACZ,kBAAgB;AADJ,CAAhB;AAGA,MAAMC,GAAG,GAAG,uBAAZ;AAEA,eAAe;AACXC,EAAAA,MAAM,EAAE,MAAOC,MAAP,IAAkB;AACtB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAN,CAAY,GAAEJ,GAAI,UAAlB,EAA6BE,MAA7B,EAAqC;AAAEH,QAAAA,OAAO,EAAEA;AAAX,OAArC,CAAvB;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,QAAQ,CAACI,IAAvC;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,YAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BR,QAA/B;AACH,KALD,CAKE,OAAOS,KAAP,EAAc;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GAVU;AAYXC,EAAAA,KAAK,EAAE,MAAOX,MAAP,IAAkB;AACrB,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,IAAN,CAAY,GAAEJ,GAAI,QAAlB,EAA2BE,MAA3B,EAAmC;AAAEH,QAAAA,OAAO,EAAEA;AAAX,OAAnC,CAAvB;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,QAAQ,CAACI,IAAvC;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,YAAlB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAa,OAAb,EAAuBR,QAAvB;AACH,KALD,CAKE,OAAMS,KAAN,EAAa;AACXF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GArBU;AAuBXE,EAAAA,MAAM,EAAE,MAAM;AACV,WAAOT,YAAY,CAACU,OAAb,CAAqB,OAArB,MAAkC,IAAzC;AACH,GAzBU;AA2BXC,EAAAA,MAAM,EAAE,MAAM;AACVX,IAAAA,YAAY,CAACY,KAAb;AACAT,IAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACH;AA9BU,CAAf","sourcesContent":["import axios from 'axios';\n\nconst headers = {\n    \"Content-Type\": \"application/json\"\n};\nconst url = \"http://localhost:4000\";\n\nexport default {\n    signup: async (values) => {\n        try {\n            const userData = await axios.post(`${url}/NewUser`, values, { headers: headers });\n            localStorage.setItem(\"token\", userData.data);\n            window.location = '/dashboard'\n            console.log('user created : ', userData)\n        } catch (error) {\n            console.log(error)\n        }\n    },\n\n    login: async (values) => {\n        try {\n            const userData = await axios.post(`${url}/Login`, values, { headers: headers });\n            localStorage.setItem(\"token\", userData.data);\n            window.location = '/dashboard'\n            console.log( 'log :' , userData)\n        } catch(error) {\n            console.log(error)\n        }\n    },\n\n    isAuth: () => {\n        return localStorage.getItem(\"token\") !== null;\n    },\n\n    logout: () => {\n        localStorage.clear();\n        window.location = '/'\n    }\n}"]},"metadata":{},"sourceType":"module"}